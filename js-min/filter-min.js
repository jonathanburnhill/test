const canvas=document.querySelector("#canvas"),ctx=canvas.getContext("2d"),imgSelect=document.querySelector("#img-select"),filePicker=document.querySelector("#file-picker"),noFile=document.querySelector("#no-file"),hideBtns=document.querySelector(".hide-btns"),text=document.querySelector(".text");imgSelect.addEventListener("click",function(e){filePicker&&filePicker.click(),e.preventDefault()},!1);const chooseImg=()=>{const e=new FileReader;e.onload=function(e){const n=new Image;n.addEventListener("load",function(){canvas.width=n.width,canvas.height=n.height,ctx.drawImage(n,0,0)}),n.src=e.target.result},e.readAsDataURL(event.target.files[0])};document.querySelector("#file-picker").addEventListener("change",chooseImg,!1);const img=new Image,applyFilter=e=>document.querySelector(e);applyFilter("#greyscale").addEventListener("click",function(e){Caman("#canvas",img,function(){this.greyscale().render()})}),applyFilter("#vintage").addEventListener("click",function(){Caman("#canvas",img,function(){this.vintage(400).render()})}),applyFilter("#oldboot").addEventListener("click",function(e){Caman("#canvas",img,function(){this.oldBoot().render()})}),applyFilter("#orange-peel").addEventListener("click",function(){Caman("#canvas",img,function(){this.orangePeel().render()})}),applyFilter("#love").addEventListener("click",function(){Caman("#canvas",img,function(){this.love().render()})}),applyFilter("#sunrise").addEventListener("click",function(){Caman("#canvas",img,function(){this.sunrise().render()})}),applyFilter("#hazydays").addEventListener("click",function(){Caman("#canvas",img,function(){this.hazyDays().render()})}),applyFilter("#reset").addEventListener("click",function(e){Caman("#canvas",img,function(){this.reloadCanvasData(),this.revert(!1),this.render()})});const crop=document.querySelector("#crop");crop.addEventListener("click",()=>{new Croppie(canvas,{viewport:{width:200,height:200},boundary:{width:400,height:400},showZoomer:!0,enableResize:!0,enableOrientation:!0,mouseWheelZoom:"ctrl"}).bind({url:canvas.toDataURL()})});